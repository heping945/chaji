(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e58771a"],{"17d8":function(t,e,r){"use strict";var i=r("c08c"),a=r.n(i);a.a},4604:function(t,e,r){},"4fad":function(t,e,r){var i=r("23e7"),a=r("6f53").entries;i({target:"Object",stat:!0},{entries:function(t){return a(t)}})},"6f53":function(t,e,r){var i=r("83ab"),a=r("df75"),n=r("fc6a"),s=r("d1e7").f,c=function(t){return function(e){var r,c=n(e),o=a(c),p=o.length,l=0,u=[];while(p>l)r=o[l++],i&&!s.call(c,r)||u.push(t?[r,c[r]]:c[r]);return u}};t.exports={entries:c(!0),values:c(!1)}},a0f2:function(t,e,r){},b9c0:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Row",[r("Col",{attrs:{xs:0,sm:0,md:24,lg:24}},[r("Select",{attrs:{placeholder:"请选择识别类型"},model:{value:t.modeselected,callback:function(e){t.modeselected=e},expression:"modeselected"}},t._l(t.imgreq,(function(e){return r("Option",{key:e.id,attrs:{value:e.type}},[t._v(t._s(e.title))])})),1)],1)],1),r("Card",[r("Row",[r("Col",{attrs:{xs:0,sm:0,md:24,lg:24}},[r("Row",[r("div",{staticClass:"cropper-example "},[r("cropper",{attrs:{src:t.exampleImageSrc,"crop-button-text":"确认提交"},on:{"on-crop":t.handleCroped}})],1)]),r("Row",[r("section",{staticClass:"showresult"},[r("div",{staticStyle:{margin:"0 auto","max-width":"600px"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.has_result,expression:"has_result"}]},[r("h1",{staticStyle:{margin:"30px 0"}},[t._v(" 结果显示区域.... ")]),r("div",{staticClass:"reslist"},t._l(t.results_list,(function(e,i){return r("List",{key:i,attrs:{border:""}},[r("ListItem",[t._v(t._s(e))])],1)})),1)])])])])],1)],1),r("Row",[r("Col",{attrs:{xs:24,sm:24,md:0,lg:0}},[r("section",{staticStyle:{"text-align":"center"}},[r("strong",[t._v("小屏设备无法显示请更换大设备")])])])],1)],1)],1)},a=[],n=(r("b0c0"),r("4fad"),r("7f80")),s=function(t,e){var r=e.type,i=e.arg;return n["a"].post("/cr/",t,{params:{type:r,arg:i},headers:{"Content-Type":"multipart/form-data"}})},c=function(t){return n["a"].get("/cr/".concat(t,"/"))},o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"baseimage"},[r("div",{staticClass:"imageshow"}),t._t("default",[r("Upload",{ref:"upload",staticStyle:{display:"inline-block"},attrs:{"show-upload-list":!1,format:["jpg","jpeg","png"],accept:t.Accept,name:"image","max-size":3072,type:"drag",action:t.realurl}},[r("Button",{staticStyle:{width:"150px"},attrs:{type:"primary"}},[t._v("上传图片")])],1)])],2)},p=[],l=(r("99af"),{name:"BaseImage",props:["imgtype"],data:function(){return{url:"".concat("https://chaji.site/api/","cr/"),Accept:".png,.jpg,.jpeg,"}},computed:{realurl:function(){return"".concat(this.url,"?type=").concat(this.imgtype)}},mounted:function(){}}),u=l,d=r("2877"),m=Object(d["a"])(u,o,p,!1,null,"e34f4f56",null),f=m.exports,y=f,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cropper-wrapper"},[r("div",{staticClass:"img-box"},[r("img",{staticClass:"cropper-image",attrs:{id:t.imgId,alt:""}})]),r("div",{staticClass:"right-con"},[t.preview?r("div",{staticClass:"preview-box",attrs:{id:t.previewId}}):t._e(),r("div",{staticClass:"button-box"},[t._t("default",[r("Upload",{attrs:{action:"realurl","show-upload-list":!1,format:["jpg","jpeg","png"],accept:t.Accept,"before-upload":t.beforeUpload}},[r("Button",{staticStyle:{width:"150px"},attrs:{type:"primary"}},[t._v(t._s(t.$t("upload_picture")))])],1)]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.insideSrc,expression:"insideSrc"}]},[r("Button",{attrs:{type:"primary"},on:{click:t.rotate}},[r("Icon",{attrs:{type:"md-refresh",size:18}})],1),r("Button",{attrs:{type:"primary"},on:{click:t.shrink}},[r("Icon",{attrs:{type:"md-remove",size:18}})],1),r("Button",{attrs:{type:"primary"},on:{click:t.magnify}},[r("Icon",{attrs:{type:"md-add",size:18}})],1),r("Button",{attrs:{type:"primary"},on:{click:function(e){return t.scale("X")}}},[r("Icon",{attrs:{type:"md-code-working",size:18}})],1),r("Button",{attrs:{type:"primary"},on:{click:function(e){return t.scale("Y")}}},[r("Icon",{attrs:{type:"ios-pause",size:18}})],1),r("Button",{attrs:{type:"primary"},on:{click:function(e){return t.move(0,-t.moveStep)}}},[r("Icon",{attrs:{type:"md-arrow-round-up",size:18}})],1),r("Button",{attrs:{type:"primary"},on:{click:function(e){return t.move(-t.moveStep,0)}}},[r("Icon",{attrs:{type:"md-arrow-round-back",size:18}})],1),r("Button",{attrs:{type:"primary"},on:{click:function(e){return t.move(0,t.moveStep)}}},[r("Icon",{attrs:{type:"md-arrow-round-down",size:18}})],1),r("Button",{attrs:{type:"primary"},on:{click:function(e){return t.move(t.moveStep,0)}}},[r("Icon",{attrs:{type:"md-arrow-round-forward",size:18}})],1),r("Button",{staticStyle:{width:"150px","margin-top":"10px"},attrs:{type:"primary"},on:{click:t.crop}},[t._v(t._s(t.cropButtonText)+" ")])],1)],2)])])},v=[],g=(r("a9e3"),r("ac1f"),r("5319"),r("5fb1")),w=r.n(g),_=(r("a0f2"),r("4604"),{name:"Cropper",props:{src:{type:String,default:""},preview:{type:Boolean,default:!0},moveStep:{type:Number,default:4},cropButtonText:{type:String,default:"裁剪"}},data:function(){return{cropper:null,insideSrc:"",Accept:".png,.jpg,.jpeg,",url:"".concat("https://chaji.site/api/","cr/")}},computed:{imgId:function(){return"cropper".concat(this._uid)},previewId:function(){return"cropper_preview".concat(this._uid)},realurl:function(){return"".concat(this.url,"?type=").concat(this.imgtype)}},watch:{src:function(t){this.replace(t)},insideSrc:function(t){this.replace(t)}},methods:{beforeUpload:function(t){var e=this,r=new FileReader;return r.readAsDataURL(t),r.onload=function(t){e.insideSrc=t.srcElement.result},!1},replace:function(t){this.cropper.replace(t),this.insideSrc=t},rotate:function(){this.cropper.rotate(90)},shrink:function(){this.cropper.zoom(-.1)},magnify:function(){this.cropper.zoom(.1)},scale:function(t){this.cropper["scale".concat(t)](-this.cropper.getData()["scale".concat(t)])},move:function(){var t;(t=this.cropper).move.apply(t,arguments)},crop:function(){var t=this;this.cropper.getCroppedCanvas().toBlob((function(e){t.$emit("on-crop",e)}))}},mounted:function(){var t=this;this.$nextTick((function(){var e=document.getElementById(t.imgId);t.cropper=new w.a(e,{preview:"#".concat(t.previewId),checkCrossOrigin:!0})}))}}),b=_,x=Object(d["a"])(b,h,v,!1,null,null,null),C=x.exports,k=C,I={name:"CR",data:function(){return{imageOrurl:!0,modeselected:"",exampleImageSrc:"",has_result:!1,formData:new FormData,cur_res_id:"",results_list:[],results_object:{},imgreq:[{id:1,type:"basicGeneral",title:"通用文字识别"},{id:2,type:"basicAccurate",title:"通用文字识别(高精度版)"},{id:5,type:"enhancedGeneral",title:"通用文字识别(含生僻字版)"},{id:6,type:"webImage",title:"网络图片文字识别"},{id:7,type:"qrcode",title:"二维码识别"},{id:8,type:"bankcard",title:"银行卡识别"},{id:9,type:"drivingLicense",title:"驾驶证识别"},{id:10,type:"vehicleLicense",title:"行驶证识别"},{id:11,type:"licensePlate",title:"车牌识别"},{id:12,type:"businessLicense",title:"营业执照识别"},{id:13,type:"receipt",title:"通用票据识别"},{id:14,type:"trainTicket",title:"火车票识别"},{id:15,type:"vinCode",title:"VIN码识别"},{id:16,type:"householdRegister",needarg:!1,title:"户口本识别"},{id:17,type:"quotaInvoice",title:"定额发票识别"},{id:18,type:"HKMacauExitentrypermit",title:"港澳通行证识别"},{id:19,type:"taiwanExitentrypermit",title:"台湾通行证识别"},{id:20,type:"numbers",title:"数字识别"},{id:21,type:"lottery",title:"彩票识别"},{id:22,type:"passport",title:"护照识别"},{id:23,type:"businessCard",title:"名片识别"},{id:24,type:"handwriting",title:"手写文字识别"}],urlreq:[{id:1,type:"basicGeneralUrl",title:"通用文字识别"},{id:2,type:"generalUrl",title:"通用文字识别(含位置信息版)"},{id:3,type:"enhancedGeneralUrl",title:"通用文字识别(含生僻字版)"},{id:4,type:"webImageUrl",title:"网络图片文字识别"}],special:{type:"idcard",title:"身份证识别"}}},components:{BaseImage:y,Cropper:k},methods:{handleCroped:function(t){var e=this;this.formData.append("image",t,t.name);var r={type:this.modeselected};s(this.formData,r).then((function(t){e.$Message.success(e.$t("Upload_success"));var r=t.data,i=r.code,a=r.data;1001===i&&(e.cur_res_id=a,e.has_result=!0,setTimeout((function(){e.getresult(e.cur_res_id)}),2e3))}))},getresult:function(t){var e=this;c(t).then((function(t){var r=t.data,i=r.code,a=r.data;if(1001===i){var n=a.words_result,s=a.result;e.results_list=n||[],e.results_object=s||{},"{}"!==JSON.stringify(e.results_object)&&(e.results_list=Object.entries(e.results_object),e.results_object={})}else e.has_result=!1})).catch((function(t){e.has_result=!1}))}}},S=I,j=(r("17d8"),Object(d["a"])(S,i,a,!1,null,"2f8088a3",null));e["default"]=j.exports},c08c:function(t,e,r){}}]);